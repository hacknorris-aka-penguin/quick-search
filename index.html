<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>search</title>
  </head>
  <body>
    <header>
        <form>
            <input id="searchBox">
                <button type='button' onclick="search()"><img alt="search" src="favicon.ico" width="25" height="25"></button>
        </form>
    </header>
    <hr>
    <script>
    fetch("databases/main.json").then(response => response.json()).then(json => siteList = (json));
    function search(){
    searchArray = document.getElementById("searchBox").value.split(" ");
            for (var j in siteList.pages){
                if (JSON.stringify(siteList.pages[j].tags.sort()) == JSON.stringify(searchArray.sort())){
                document.getElementById("content").innerHTML += "<div width='50%'><a href='"+siteList.pages[j].url+"'><h4>"+siteList.pages[j].title+"</h4></a><br><small>"+siteList.pages[j].url+"</small><br><i>"+siteList.pages[j].description+"</i><br><p>ads? "+siteList.pages[j].ads+" ...</p><a href='"+siteList.pages[j].source+"'>source code: "+siteList.pages[j].source+"</a><hr style='margin-left:0;align:left;' width='50%'></div>";
            }else{
                document.getElementById("content").innerHTML = "no results...";
            }
        }
    }
    </script>
    <main id="content"></main>
    <footer><hr><a href="https://github.com/hacknorris-aka-penguin/quick-search">sauce code</a></footer>
  </body>
</html>
