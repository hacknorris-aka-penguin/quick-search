<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>search</title>
  </head>
  <body>
    <header>
        <form>
            <input id="searchBox">
                <button type='button' onclick="search()"><img alt="search" src="favicon.ico" width="25" height="25"></button>
        </form>
    </header>
    <hr>
    <script>
    fetch("databases/main.json").then(response => response.json()).then(json => siteList = (json));
    function search(){
    contentEl = document.getElementById("content");
    searchArray = document.getElementById("searchBox").value.split(" ");
            for (var j in siteList.pages){
                for (var i of searchArray){
                if (siteList.pages[j].tags.includes(i)){
                contentEl.innerHTML += "<div width='50%'><a href='"+siteList.pages[j].url+"'><h4>"+siteList.pages[j].title+"</h4></a><small>"+siteList.pages[j].url+"</small><br><i>"+siteList.pages[j].description+"</i><br><p>ads? "+siteList.pages[j].ads+" ...</p><a href='"+siteList.pages[j].source+"'>source code: "+siteList.pages[j].source+"</a><hr style='margin-left:0;align:left;' width='50%'></div>";
            }else{
                document.getElementById("content").innerHTML = "no results...";
            }
        }
    } }
    </script>
    <main id="content"></main>
    <footer><hr><a href="https://github.com/hacknorris-aka-penguin/quick-search">sauce code</a></footer>

    <div style="position: fixed; bottom: 0px; right: 0px;">
    <button onclick="document.body.style.background = '#002b36'; document.body.style.color = '#839496'; document.querySelectorAll('a').forEach(a => a.style.color = '#586e75');" style="color:#839496;background-color:#002b36">ABC<br/><a href="" style="color:#586e75">abc</a></button>
    <button onclick="document.body.style.background = '#fdf6e3'; document.body.style.color = '#657b83'; document.querySelectorAll('a').forEach(a => a.style.color = '#93a1a1');" style="color:#657b83;background-color: #fdf6e3">ABC<br/><a href="" style="color:#93a1a1">abc</a></button>
    <button onclick="document.body.style.background = 'black'; document.body.style.color = 'green'; document.querySelectorAll('a').forEach(a => a.style.color = 'cyan');" style="color:green;background-color:black">ABC<br/><a href="" style="color:cyan">abc</a></button>
    <button onclick="document.body.style.background = 'white'; document.body.style.color = 'black'; document.querySelectorAll('a').forEach(a => a.style.color = 'green');" style="color:black;background-color:white">ABC<br/><a href="" style="color:green">abc</a></button></div>
  </body>
</html>

